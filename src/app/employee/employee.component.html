


<!-- 
<app-common-grid
  [columns]="columns"
  [data]="employees"
  [hasActions]="hasAction"
>
</app-common-grid> -->

<div class="d-flex mt-5 justify-content-end">
    <!-- <button  class="btn btn-info" (click)="postEmployee()">
        Add User
    </button> -->
</div>

<table class="mt-5 table table-responsive table-bordered">
    <thead>
        <th *ngFor="let item of columns">
              {{item}}
        </th>
    </thead>
    <tbody>
        <tr *ngFor="let item of employees">
            <!-- <td *ngFor="let col of columns">
                {{item[col]}}
            </td> -->
        
            <td>{{item.firstName}}</td>
            <td>{{item.lastName}}</td>
            <td>{{item.email}}</td>
            <td>{{item.phone}}</td>
            <td>{{item.gender}}</td>
            <td>{{item.city}}</td>
            <td>  
                <button class="m-2 btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="hadleClickType('edit',item)" >Edit</button> 
                <button class="m-2 btn btn-danger" (click)="deleteEmployee(item.id)">Delete</button>
            </td>
        </tr>

    </tbody>
</table>



<!-- Button trigger modal -->
<button type="button" (click)="hadleClickType('add',null)" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
Add Employee
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add Employee</h1>
          <button type="button" #addEmployeeCloseBtn class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form [formGroup]="employeeForm" (ngSubmit)="employeeForm.valid ? postEmployee():onForminvalid()" class="mt-4">
                <div class="mb-3">
                  <label for="firstName" class="form-label">First Name:</label>
                  <input type="text" id="firstName" formControlName="firstName" class="form-control">
                  <div *ngIf="employeeForm.get('firstName').invalid && employeeForm.get('firstName').touched"
                       >
                    <div *ngIf="employeeForm.get('firstName').hasError('required')">First Name is required.</div>
                  </div>
                </div>
              
                <div class="mb-3">
                  <label for="lastName" class="form-label">Last Name:</label>
                  <input type="text" id="lastName" formControlName="lastName" class="form-control">
                  <div *ngIf="employeeForm.get('lastName').invalid && employeeForm.get('lastName').touched"
                       >
                    <div *ngIf="employeeForm.get('lastName').hasError('required')">Last Name is required.</div>
                  </div>
                </div>
              
                <div class="mb-3">
                  <label for="email" class="form-label">Email:</label>
                  <input type="email" id="email" formControlName="email" class="form-control">
                  <div *ngIf="employeeForm.get('email').invalid && employeeForm.get('email').touched"
                       >
                    <div *ngIf="employeeForm.get('email').hasError('required')">Email is required.</div>
                    <div *ngIf="employeeForm.get('email').hasError('email')">Invalid email format.</div>
                  </div>
                </div>
              
                <div class="mb-3">
                  <label for="phone" class="form-label">Phone:</label>
                  <input type="text" id="phone" formControlName="phone" class="form-control">
                  <div *ngIf="employeeForm.get('phone').invalid && employeeForm.get('phone').touched"
                       >
                    <div *ngIf="employeeForm.get('phone').hasError('required')">Phone is required.</div>
                  </div>
                </div>
              
                <div class="mb-3">
                  <label for="gender" class="form-label">Gender:</label>
                  <select id="gender" formControlName="gender" class="form-select">
                    <option value="" disabled>Select gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                  </select>
                  <div *ngIf="employeeForm.get('gender').invalid && employeeForm.get('gender').touched"
                       >
                    <div *ngIf="employeeForm.get('gender').hasError('required')">Gender is required.</div>
                  </div>
                </div>
              
                <div class="mb-3">
                  <label for="city" class="form-label">City:</label>
                  <input type="text" id="city" formControlName='city' class="form-control">
                  <div *ngIf="employeeForm.get('city').invalid && employeeForm.get('city').touched"
                       >
                    <div *ngIf="employeeForm.get('city').hasError('required')">City is required.</div>
                    <div *ngIf="employeeForm.get('city').hasError('maxlength')">City cannot exceed 30 characters.</div>
                  </div>
                </div>
              
                <button type="submit" class="btn btn-primary" >Submit</button>
              </form>
              
              
        </div>
   
      </div>
    </div>
  </div>
